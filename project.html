<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Проект</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="header-container"></div>

<div class="container">
    <div id="project-content"></div>
</div>

<!-- ✅ футер-заглушка должен быть ВНЕ скрипта -->
<div id="footer-container"></div>

<script>
async function loadHeader() {
    const resp = await fetch('header.html');
    const html = await resp.text();
    document.getElementById('header-container').innerHTML = html;
}

async function loadFooter() {
    const resp = await fetch('footer.html');
    const html = await resp.text();
    document.getElementById('footer-container').innerHTML = html;

    // обновляем год после загрузки футера
    const yearEl = document.getElementById('current-year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();
}

// ---- Динамический контент проекта ----
const projects = {
  1: { title:"Автосалон Skoda", images:["images/1/1.jpg", "images/1/2.jpg", "images/1/3.jpg", "images/1/4.jpg", "images/1/5.jpg", "images/1/6.jpg"], description:"" },
  2: { title:"Воскресенское", images:["images/2/1.jpg", "images/2/2.jpg", "images/2/3.jpg", "images/2/4.jpg", "images/2/5.jpg", "images/2/6.jpg", "images/2/7.png", "images/2/8.png"], description:"" },
  3: { title:"Мосфильмовская", images:["images/3/1.png", "images/3/2.png", "images/3/3.png", "images/3/4.png", "images/3/5.jpg", "images/3/6.jpg", "images/3/7.jpg", "images/3/8.jpg",
      "images/3/9.jpg", "images/3/10.jpg", "images/3/11.jpg", "images/3/12.jpg", "images/3/13.jpg", "images/3/14.jpg", "images/3/15.jpg", "images/3/16.jpg", "images/3/17.jpg", "images/3/18.jpg"], description:"" },
  4: { title:"Грига", images:["images/4/1.png", "images/4/2.png", "images/4/3.png", "images/4/4.png", "images/4/5.png", "images/4/6.png", "images/4/7.png"], description:"" },
  5: { title:"Нагорная", images:["images/5/1.jpg", "images/5/2.jpg", "images/5/3.jpg", "images/5/4.jpg", "images/5/5.jpg", "images/5/6.jpg", "images/5/7.jpg", "images/5/8.jpg",
      "images/5/9.jpg", "images/5/10.jpg", "images/5/11.jpg", "images/5/12.png", "images/5/13.png", "images/5/14.jpg"], description:"" },
  6: { title:"Намёткина", images:["images/6/1.jpg", "images/6/2.png", "images/6/3.png", "images/6/4.png", "images/6/5.png", "images/6/6.png", "images/6/7.png", "images/6/8.png",
      "images/6/9.png", "images/6/10.png", "images/6/11.png", "images/6/12.png", "images/6/13.png"], description:"" },
  7: { title:"Рогова", images:["images/7/1.jpg", "images/7/2.png", "images/7/3.png", "images/7/4.png", "images/7/5.png", "images/7/6.png", "images/7/7.png", "images/7/8.png",
      "images/7/9.png", "images/7/10.png", "images/7/11.png", "images/7/12.png", "images/7/13.png", "images/7/14.png", "images/7/15.png", "images/7/16.png", "images/7/17.png",
      "images/7/18.png", "images/7/19.png", "images/7/20.png", "images/7/21.png", "images/7/22.png"], description:"" },
  8: { title:"Веласкеса", images:["images/8/1.jpg", "images/8/2.png", "images/8/3.png", "images/8/4.png", "images/8/5.png", "images/8/6.png", "images/8/7.png", "images/8/8.png"], description:"" },
  9: { title:"Тарковского", images:["images/9/1.jpg", "images/9/2.png", "images/9/3.png", "images/9/4.png", "images/9/5.png", "images/9/6.jpg"], description:"" },
  10: { title:"Вешки", images:["images/10/1.jpg", "images/10/2.jpg", "images/10/3.jpg", "images/10/4.png", "images/10/5.png", "images/10/6.jpg", "images/10/7.png", "images/10/8.jpg",
      "images/10/9.jpg", "images/10/10.jpg", "images/10/11.png", "images/10/12.png", "images/10/13.png", "images/10/14.png", "images/10/15.png", "images/10/16.png"], description:"" },
  11: { title:"Санкт-Петербург", images:["images/11/1.jpg", "images/11/2.png", "images/11/3.png", "images/11/4.png", "images/11/5.png", "images/11/6.png", "images/11/7.png", "images/11/8.png",
      "images/11/9.png", "images/11/10.png", "images/11/11.png", "images/11/12.png", "images/11/13.png", "images/11/14.png", "images/11/15.png", "images/11/16.png", "images/11/17.png"], description:"" },
  12: { title:"Истра", images:["images/12/1.jpg", "images/12/2.png", "images/12/3.png", "images/12/4.png", "images/12/5.png", "images/12/6.png", "images/12/7.png"], description:"" }
};

const params = new URLSearchParams(window.location.search);
const id = params.get("id");
const project = projects[id];

const container = document.getElementById("project-content");
if (project) {
    container.innerHTML = `
        <h1>${project.title}</h1>
        <p>${project.description}</p>
        ${project.images.map(src => `<img src="${src}" alt="${project.title}">`).join('')}
    `;
} else {
    container.innerHTML = "<p>Проект не найден</p>";
}

loadHeader();
loadFooter();
</script>
</body>
</html>
